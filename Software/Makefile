PATH_INCLUDES = Includes
PATH_OBJECTS = Objects
PATH_SOURCES = Sources

CC = xc8
CCFLAGS = --chip=18F23K22 --objdir=$(PATH_OBJECTS) --outdir=$(PATH_OBJECTS) -I$(PATH_INCLUDES) -D_XTAL_FREQ=4000000

BINARY = Firmware.hex
SOURCES = $(PATH_SOURCES)/Main.c $(PATH_SOURCES)/PWM.c

all: $(PATH_OBJECTS)
	$(CC) $(CCFLAGS) $(SOURCES) -O$(BINARY)
	cp $(PATH_OBJECTS)/$(BINARY) .

$(PATH_OBJECTS):
	mkdir -p $(PATH_OBJECTS)

clean:
	rm -f $(BINARY)
	rm -rf $(PATH_OBJECTS)
